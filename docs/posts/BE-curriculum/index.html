<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Manon Jacquin">
<meta name="dcterms.date" content="2025-02-13">

<title>Why Fundamentals Matter – Manon Jacquin</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Manon Jacquin</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/manonja"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/muditaja"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Why Fundamentals Matter</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">fundamentals</div>
                <div class="quarto-category">learning</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Manon Jacquin </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 13, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="the-case-for-fundamentals" class="level2">
<h2 class="anchored" data-anchor-id="the-case-for-fundamentals">The case for fundamentals</h2>
<p>I built an HTTP server from scratch a few weeks ago. I was using Node and TypeScript, thinking I knew what I was doing—until I didn’t anymore. As embarassing as it was, I realized that I didn’t fully understand what was going on under the hood. I couldn’t explain why UDP and TCP were different, and I knew nothing about how an operating system really handled a network request. That moment was both harsh and exciting. It exposed a gap in my own knowledge and, I suspect, in the way many of us learn to program.</p>
<p>That’s why I co-created a backend fundamentals curriculum. Not long ago, I set out on a challenge to gain hands-on experience with computer programming and networks at a more basic level. I wanted to level up my skills in the core principles of how systems work. I also saw it as an opportunity to learn Rust and Elixir—two languages that force you to think differently about the problems you’re solving, and languages I wanted to try for a while now due to their (awesome) reputation.</p>
<p>At its heart, this curriculum isn’t about teaching you what programming is or how to write a “hello world” program. It’s for those of us who have already coded, built applications, and is comfortable with at least one programming language, but who haven’t yet taken the time to understand the mechanics of operating systems, protocols, and network architecture. If you’re completely new to programming, you might be better off with an introductory course. But if you’ve already written some code and used some libraries, you know that most tutorials skip the hard questions (looking at you, boilerplates!).</p>
<p>I started this journey after my little experiment with the HTTP server. Building something from scratch forced me to ask questions: What happens when a client connects? How do protocols really work? What does it mean for a system to be “distributed”? I dove into topics like the OSI stack, sockets, and ports, and found that the answers were rarely as clear as you’d think. More often than not, you have to piece together a deeper understanding from layers of abstraction. And that’s exactly what this curriculum is designed to do. It aims at stripping away the “glossy” aspect of boilerplates, and get to the fundamentals.</p>
<p>I co-created the course with a simple goal in mind: take the concepts that are usually hidden in dense textbooks or learned after years of trial and error, and break them down into practical, projects based modules. This curriculum uses books from Andrew Tanenbaum, Donald Knuth, and Linus Torvalds, computer scientist who shaped the way we understand systems today. But how can we tackle the fundamentals from concepts coming from dense books and long computer science curriculum, in a more practical and efficient way? Enter, the DiSSS methodology.</p>
</section>
<section id="disss-methodology-deconstructing-selecting-and-sequencing." class="level2">
<h2 class="anchored" data-anchor-id="disss-methodology-deconstructing-selecting-and-sequencing.">DiSSS Methodology: Deconstructing, Selecting, and Sequencing.</h2>
<p>How did we envisioned this curriculum? The curriculum is built on the <a href="https://modelthinkers.com/mental-model/disss-learning">DiSSS methodology</a> from Tim Ferriss: Deconstruction, Selection, Sequencing and Stakes. Why DiSSS? It’s a proven methodology that allow anyone to become an expert in any topic in a short amount of time. I already see the skepticals rolling their eyes. I encourage you to learn more about this methodolgy which allowed people in the world become perfectly fluent in Japanese, Chinese, or German in a few weeks, to gain olympic medeals at an advanced age, or to become cook Chefs starting with no experience. I could not find any DiSSS methodology applied to backend fundamentals, but I don’t think backend fundamentals are more complex than Japanese (or, at least, they seem fairly to be at the same level complexity, if you ask me).</p>
<p>The idea behind DiSSS is straightforwad: you take a complex topic, break it into parts, figure out how those parts work on their own, and then put them back together until you see the whole picture. This method allows you to dig into the core building blocks of a topic, and learn how to think about it. And because it is project based, you gain hands-on experience. Naturally, you start to see the patterns in the way systems are built, and that kind of understanding can’t come from following step-by-step tutorials alone.</p>
<p>There’s another key idea behind this curriculum: the 80/20 rule. In any field, a small set of skills often accounts for the majority of the results. We focus on that crucial 20%: the fundamental principles of computer science that make you a better engineer. Whether you’re working with Rust, Elixir, Docker, or Kubernetes, the core concepts remain the same. By mastering these fundamentals, you prepare yourself for any language or system you’ll face.</p>
</section>
<section id="ais-limits-why-deep-understanding-still-matters" class="level2">
<h2 class="anchored" data-anchor-id="ais-limits-why-deep-understanding-still-matters">AI’s limits: why deep understanding still matters</h2>
<p>Some of you might be thinking, “Why bother with all this when AI can do so much of the work for me?” It’s a fair question. The short answer is: the engineers who truly innovate are the ones who understand the fundamentals.</p>
<p>AI is great for generating code, for automating repetitive tasks, and even for suggesting quick fixes. But if you rely solely on AI, you’re missing something essential. When you run into a problem that isn’t covered by a template or a snippet, it’s your deep understanding of the underlying system that will solve your issue. AI can help you write boilerplate code, but it won’t explain why a thread scheduler behaves in a particular way or how to design a system that remains stable under heavy load.</p>
<p>In today’s environment, I found that some developers are satisfied to use tools and frameworks without questioning how they work. I am not blaming, I was also in that mindset. I learned programming through self teaching and then at a coding bootcamp. Coding bootcamp are great to teach you how to make things work, how to build fullstack application in a very pragmatic way. But when it comes to really understand how things work, and if you want to enjoy software engineering, I found it essential to learn the core fundamenetals of computer programming. Plus, this topic is even more relevant today when AI can build a fullstack application in a few hours, with almost no coding required.</p>
<p>The point is, if you want to spend your career collaborating with AI rather than being replaced by it, you need to have a solid grasp of the fundamentals. Mid-level developers who coast on surface-level knowledge soon find themselves outpaced. In contrast, those who invest time in mastering core principles become the ones who can tackle complex problems involving architecture and system programming, problems that AI isn’t yet ready to solve on its own (and I can confirm already, try to code in Rust with Cursor. I disabled AI assistance after one day. AI’s output was terrible).</p>
</section>
<section id="curriculum-overview" class="level2">
<h2 class="anchored" data-anchor-id="curriculum-overview">Curriculum overview</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 41%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Modules</th>
<th>Topics Covered</th>
<th>Key Projects</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Core Systems &amp; Infrastructure</td>
<td>Mini Network Scanner, OS Scheduler Emulator</td>
</tr>
<tr class="even">
<td>2</td>
<td>Advanced Programming (Rust &amp; Elixir)</td>
<td>HTTP Microservice in Rust, Real-Time Chat App</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Architecture &amp; Full-Stack Integration</td>
<td>Microservices Ecosystem, CI/CD Deployment</td>
</tr>
</tbody>
</table>
<p>The curriculum is structured into three parts, each building on the last. In the first month, you’ll dive into core systems and infrastructure. You might build a mini network scanner or an operating system scheduler emulator. In the second month, you shift to advanced programming with Rust and Elixir. Here, you build practical projects like an HTTP microservice or a real-time chat app. Finally, in the third month, you step back and look at the bigger picture by integrating your work into a full microservices ecosystem, complete with CI/CD deployment. Each step is designed to push you a little further, until you start thinking like a senior backend engineer.</p>
<p>What matters most is not the language you choose or the framework you use. It’s the way you think about problems. That’s the skill that makes great engineers stand out. When you can break down a problem, understand the underlying mechanics, and then build something new from scratch, you’re doing more than just coding—you’re creating a foundation that will carry you through any technological change.</p>
<p>I’m not under any illusion that this isn’t a lot of work. The way to see it is more as an initiation and a way to push yourself as a developer, and, let’s not forget: to have fun building things from scratch! You will come out of it transformed, no matter if you manage to finish the projects or not. It prepares you for the challenges ahead, and it pays off. In a world where trends come and go, the deep understanding of how systems work remains constant. It’s a skill set that can’t be outsourced to AI or replaced by a trendy new framework. Personally, I also find a real satisfaction in sweating on hard concepts again, and dig into things in a meaningful way, and not because I am going to be more productive. It’s not about “more and fast”. It’s about less and slow, for the true enjoyment of the engineering craft.</p>
</section>
<section id="curious-about-joining-the-journey" class="level2">
<h2 class="anchored" data-anchor-id="curious-about-joining-the-journey">Curious about joining the journey?</h2>
<p>So, if you’re someone who has already written code and feels a bit uneasy when you encounter a concept you don’t fully grasp, this curriculum might be just what you need. It’s not for beginners, but for those who are ready to take the next step. It’s for the aspiring backend engineer who wants to build industry-relevant systems. It’s for the mid-career developer who wants to deepen their knowledge and think like a senior engineer. And it’s for anyone who needs to remember that software engineering is a beautiful craft, and who wants to future-proof their skills by really understanding how software works.</p>
<p>We built this course because we believe that the best engineers are those who know how to think clearly about complex systems. They’re not satisfied with just knowing how to use a tool, they want to know how the tool works, and how it can be improved. By working on projects that force you to think critically about the basics, you develop a kind of intuition that can’t be taught in a classroom or generated by AI. And that is the kind of mindset that will not only help you build better software but will also set you apart in an ever-changing field.</p>
<p>If you want to be one of those engineers and willing to invest the time to really understand how things work, then have a look to this curriculum. It’s a chance to work on meaningful, mission-driven projects, and to build a skill set that will serve you well no matter what new technology comes along next.</p>
<p>Right now, I’m testing and refining the curriculum as I go, learning from the process myself. I’m a big open source fan, so the curriculum is public <a href="https://github.com/manonja/Backend-fundamentals-trail">here</a>. Feedback is always welcomed, and people can also join the <a href="https://discord.com/invite/tfh2ctk2">Discord channel</a>. I see this as part of the learning process—a way to iterate, improve, and build something that really helps people.</p>
<p>Stay curious, Manon</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>